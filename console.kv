<AutoTI>
    multiline: False
    font_size: 12.8
    halign: 'center'

    write_tab: False
    padding: [0,3,0,0]

<AutoTIFreq@TextInput>
    multiline: False
    font_size: 12.8
    halign: 'center'

    write_tab: False
    padding: [0,3,0,0]


<Automate@MDBoxLayout>
    orientation: 'vertical'
    canvas.before:
        Color:
            rgb: .6,.6,.6
        Line:
            width: 2
            rectangle: self.x, self.y, self.width, self.height

    Spacer
    Widget
    MDBoxLayout
        Widget
        MDSwitch
            on_active: app.automation_switches[root.tag] = self.active
        Widget

    MDBoxLayout
        Label:
            text: '1:'
        AutoTI
            id: start_one
            text: 'start'
#            on_text: app.automation[root.tag][0]['start'] = self.text
        Label:
            size_hint_x: .21
            text: '-'
        AutoTI
            id: finish_one
            text: 'finish'
#            on_text: app.automation[root.tag][0]['finish'] = self.text
        Label
            text: 'freq'

        AutoTIFreq
            id: freq_one
            text: '300'
#            on_text: app.automation[root.tag][0]['freq'] = self.text

        Widget
            size_hint_x: .1

    Spacer2
    MDBoxLayout
        Label:
            text: '2:'
        AutoTI
            id: start_two
            text: 'start'
#            on_text: app.automation[root.tag][1]['start'] = self.text
        Label:
            size_hint_x: .21
            text: '-'
        AutoTI
            id: finish_two
            text: 'finish'
#            on_text: app.automation[root.tag][1]['finish'] = self.text
        Label
            text: 'freq'
        AutoTIFreq
            id: freq_two
            text: '300'
#            on_text: app.automation[root.tag][1]['freq'] = self.text
        Widget
            size_hint_x: .1

    Spacer2
    MDBoxLayout
        Label:
            text: '3:'
        AutoTI
            id: start_three
            text: 'start'
#            on_text: app.automation[root.tag][2]['start'] = self.text
        Label:
            size_hint_x: .21
            text: '-'
        AutoTI
            id: finish_three
            text: 'finish'
#            on_text: app.automation[root.tag][2]['finish'] = self.text
        Label
            text: 'freq'
        AutoTIFreq
            id: freq_three
            text: '300'
#            on_text: app.automation[root.tag][2]['freq'] = self.text
        Widget
            size_hint_x: .1

    Spacer2
    MDBoxLayout
        Label:
            text: '4:'
        AutoTI
            id: start_four
            text: 'start'
#            on_text: app.automation[root.tag][3]['start'] = self.text
        Label:
            size_hint_x: .21
            text: '-'
        AutoTI
            id: finish_four
            text: 'finish'
#            on_text: app.automation[root.tag][3]['finish'] = self.text
        Label
            text: 'freq'
        AutoTIFreq
            id: freq_four
            text: '300'
#            on_text: app.automation[root.tag][3]['freq'] = self.text
#            on_text: print(app.automation)
        Widget
            size_hint_x: .1

    Spacer2


<Spacer@Widget>
    size_hint_y: None
    height: 5
    canvas.before:
        Color:
            rgb: .6,.6,.6
        Line:
            width: 2
            rectangle: self.x, self.y, self.width, self.height

<Spacer2@Widget>
    size_hint_y: None
    height: 8

#
<ConsoleWindow@MDLabel>
    canvas.before:
        Color:
            rgb: .6,.6,.6
        Line:
            width: 2
            rectangle: self.x, self.y, self.width, self.height

    theme_text_color: "Custom"
    multiline: True
    font_style: 'Caption'
    markup: True

<WhitLbl@MDLabel>
    theme_text_color: "Custom"
    text_color: 1, 0.372, 0.121



BoxLayout:
    orientation: 'vertical'

    canvas.before:
#        Color:
#            rgb: 0,0,0
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'assets/bg.png'


    MDBoxLayout
        size_hint_y: .05
        Label:
            text: 'START'
            canvas.before:
                Color:
                    rgb: .85,.85,.85
                Line:
                    width: 4
                    rectangle: self.x, self.y, self.width, self.height
        BoxLayout
            canvas.before:
                Color:
                    rgb: .85,.85,.85
                Line:
                    width: 4
                    rectangle: self.x, self.y, self.width, self.height
            Widget
            Label:
                text: 'AUTOMATE'

            BoxLayout
                orientation: 'vertical'
                Widget
                BoxLayout
                    Widget
                    Button
                        text: 'UPDATE'
                        font_size: 10
                        on_release: app.update_schedule()
                        size_hint_x: 2
                        valign: 'center'
                    Widget
                Widget

        Label:
            text: 'LOG'
            canvas.before:
                Color:
                    rgb: .85,.85,.85
                Line:
                    width: 4
                    rectangle: self.x, self.y, self.width, self.height


    # Split the screen in three

    MDBoxLayout

        # Left pane / buttons
        MDBoxLayout
            orientation: 'vertical'

            Spacer

            # GMB Box
            MDBoxLayout
                orientation: 'vertical'

                MDBoxLayout

                    Widget

                    WhitLbl
                        text: '  GMB'
                        halign: 'center'
                        font_style: 'H6'
                        text_color: .9,.9,.9

                    Widget


                MDBoxLayout
                    Widget
                        size_hint_x: 0.5

                    MDBoxLayout:
                        orientation:'vertical'

                        WhitLbl:
                            text: "0600"
                            text_color: 1, 0.941, 0
                        MDSwitch:
                            on_active: app.rundown_switch(self.active, "*GMB-LK.*GMB.TX.0600", "stories/gb/0600/", "gb/gb_0600",'   [color=ffff00]')

                    MDBoxLayout:
                        orientation:'vertical'

                        WhitLbl:
                            text: "0630"
                            text_color: 1, 0.372, 0.121
                        MDSwitch:
                            on_active: app.rundown_switch(self.active, "*GMB-LK.*GMB.TX.0630", "stories/gb/0630/", "gb/gb_0630", '   [color=ff5f1f]')

                    MDBoxLayout:
                        orientation:'vertical'

                        WhitLbl:
                            text: "0700"
                            text_color: 0, 1, 0
                        MDSwitch:
                            on_active: app.rundown_switch(self.active, "*GMB-LK.*GMB.TX.0700", "stories/gb/0700/", "gb/gb_0700", '   [color=00ff00]')

                    MDBoxLayout:
                        orientation:'vertical'

                        WhitLbl:
                            text: "0800"
                            text_color: 0, 1, 1
                        MDSwitch:
                            on_active: app.rundown_switch(self.active, "*GMB-LK.*GMB.TX.0800", "stories/gb/0800/", "gb/gb_0800", '   [color=00ffff]')

                    MDBoxLayout:
                        orientation:'vertical'

                        WhitLbl:
                            text: "0900"
                            text_color: 1, 0, 0.6
                        MDSwitch:
                            on_active: app.rundown_switch(self.active, "*GMB-LK.*GMB.TX.0900", "stories/gb/0900/", "gb/gb_0900", '   [color=ff0099]')

                Widget
                    size_hint_y: None
                    height: 8

                MDBoxLayout:
                    size_hint_y: .3
                    size_hint_x: None
                    width: 80
                    Label
                        text: 'freq:'


                    TextInput
                        id: repeat_in_seconds_gb
                        size_hint: None, None
                        width: 45
                        height: 30
                        text: '30'
                        background_color: .75, .75, .75


                Widget
                    size_hint_y: None
                    height: 8

            Spacer

            # LK Box
            MDBoxLayout
                orientation: 'vertical'
                MDBoxLayout

                    Widget

                    WhitLbl
                        text: '  LK'
                        halign: 'center'
                        font_style: 'H6'
                        text_color: .9,.9,.9

                    Widget

                MDBoxLayout

                    Widget
                        size_hint_x: 1.9
                    WhitLbl:
                        text: "TX"
                        text_color: 0, 1, 0
                    Widget

                MDBoxLayout:
                    Widget
                    MDSwitch:
                        on_active: app.rundown_switch(self.active, "*GMB-LK.*LK.TX.LORRAINE", "stories/lk/tx/", "lk/lk_tx", '   [color=00ff00]')
                    Widget

                Widget
                    size_hint_y: None
                    height: 8

                MDBoxLayout:
                    size_hint_y: .3
                    size_hint_x: None
                    width: 80
                    Label
                        text: 'freq:'


                    TextInput
                        id: repeat_in_seconds_lk
                        size_hint: None, None
                        width: 45
                        height: 30
                        text: '30'
                        background_color: .75, .75, .75


                Widget
                    size_hint_y: None
                    height: 8

            Spacer

            # GMB Box
            MDBoxLayout
                orientation: 'vertical'

                MDBoxLayout

                    Widget
                    WhitLbl
                        text: '  TM'
                        halign: 'center'
                        font_style: 'H6'
                        text_color: .9,.9,.9

                    Widget

                MDBoxLayout
                    Widget
                        size_hint_x: 0.5

                    MDBoxLayout:
                        orientation:'vertical'
                        WhitLbl:
                            text: "MON"
                            text_color: 1, 0.941, 0
                        MDSwitch:
                            on_active: app.rundown_switch(self.active, "*TM.*OUTPUT.RUNORDERS.MONDAY.RUNORDER", "stories/tm/mon/", "tm/tm_mon", '   [color=ffff00]')

                    MDBoxLayout:
                        orientation:'vertical'
                        WhitLbl:
                            text: "TUE"
                            text_color: 1, 0.372, 0.121
                        MDSwitch:
                            on_active: app.rundown_switch(self.active, "*TM.*OUTPUT.RUNORDERS.TUESDAY.RUNORDER", "stories/tm/tue/", "tm/tm_tue", '   [color=ff5f1f]')

                    MDBoxLayout:
                        orientation:'vertical'
                        WhitLbl:
                            text: "WED"
                            text_color: 0, 1, 0
                        MDSwitch:
                            on_active: app.rundown_switch(self.active, "*TM.*OUTPUT.RUNORDERS.WEDNESDAY.RUNORDER", "stories/tm/wed/", "tm/tm_wed", '   [color=00ff00]')

                    MDBoxLayout:
                        orientation:'vertical'
                        WhitLbl:
                            text: "THU"
                            text_color: 0, 1, 1
                        MDSwitch:
                            on_active: app.rundown_switch(self.active, "*TM.*OUTPUT.RUNORDERS.THURSDAY.RUNORDER", "stories/tm/thu/", "tm/tm_thu", '   [color=00ffff]')

                    MDBoxLayout:
                        orientation:'vertical'
                        WhitLbl:
                            text: "FRI"
                            text_color: 1, 0, 0.6
                        MDSwitch:
                            on_active: app.rundown_switch(self.active, "*TM.*OUTPUT.RUNORDERS.FRIDAY.RUNORDER", "stories/tm/fri/", "tm/tm_fri", '   [color=ff0099]')

                Widget
                    size_hint_y: None
                    height: 8

                MDBoxLayout:
                    size_hint_y: .3
                    size_hint_x: None
                    width: 80
                    Label
                        text: 'freq:'


                    TextInput
                        id: repeat_in_seconds_tm
                        size_hint: None, None
                        width: 45
                        height: 30
                        text: '30'
                        background_color: .75, .75, .75


                Widget
                    size_hint_y: None
                    height: 8
            Spacer

            # GMB Box
            MDBoxLayout
                orientation: 'vertical'

                MDBoxLayout
                    Widget
                    WhitLbl
                        text: '  LW'
                        halign: 'center'
                        font_style: 'H6'
                        text_color: .9,.9,.9

                    Widget

                MDBoxLayout
                    Widget
                        size_hint_x: 0.5

                    MDBoxLayout:
                        orientation:'vertical'
                        WhitLbl:
                            text: "MON"
                            text_color: 1, 0.941, 0
                        MDSwitch:

                            on_active: app.rundown_switch(self.active, "*LW.RUNORDERS.MONDAY", "stories/lw/mon/", "lw/lw_mon", '   [color=ffff00]')

                    MDBoxLayout:
                        orientation:'vertical'
                        WhitLbl:
                            text: "TUE"
                            text_color: 1, 0.372, 0.121
                        MDSwitch:

                            on_active: app.rundown_switch(self.active, "*LW.RUNORDERS.TUESDAY", "stories/lw/tue/", "lw/lw_tue", '   [color=ff5f1f]')

                    MDBoxLayout:
                        orientation:'vertical'
                        WhitLbl:
                            text: "WED"
                            text_color: 0, 1, 0
                        MDSwitch:

                            on_active: app.rundown_switch(self.active, "*LW.RUNORDERS.WEDNESDAY", "stories/lw/wed/", "lw/lw_wed", '   [color=00ff00]')

                    MDBoxLayout:
                        orientation:'vertical'
                        WhitLbl:
                            text: "THU"
                            text_color: 0, 1, 1
                        MDSwitch:
                            on_active: app.rundown_switch(self.active, "*LW.RUNORDERS.THURSDAY", "stories/lw/thu/", "lw/lw_thu", '   [color=00ffff]')

                    MDBoxLayout:
                        orientation:'vertical'
                        WhitLbl:
                            text: "FRI"
                            text_color: 1, 0, 0.6
                        MDSwitch:

                            on_active: app.rundown_switch(self.active, "*LW.RUNORDERS.FRIDAY", "stories/lw/fri/", "lw/lw_fri", '   [color=ff0099]')

                Widget
                    size_hint_y: None
                    height: 8

                MDBoxLayout:
                    size_hint_y: .3
                    size_hint_x: None
                    width: 80
                    Label
                        text: 'freq:'


                    TextInput
                        id: repeat_in_seconds_lw
                        size_hint: None, None
                        width: 45
                        height: 30
                        text: '30'
                        background_color: .75, .75, .75


                Widget
                    size_hint_y: None
                    height: 8

            Spacer

            # GMB Box
            MDBoxLayout
                orientation: 'vertical'

                MDBoxLayout
                    Widget

                    WhitLbl
                        text: 'CUSTOM'
                        halign: 'center'
                        font_style: 'H6'
                        text_color: .9,.9,.9

                    Widget

                MDBoxLayout
                    Widget
                        size_hint_x: 0.5

                    MDBoxLayout:
                        orientation:'vertical'
                        WhitLbl:
                            text: "C_1"
                            text_color: 1, 0.941, 0
                        MDSwitch:
                            on_active: app.rundown_switch(self.active, "CTS.TX.TC2_LW", "stories/cs/", "cs/cs", '   [color=ffff00]')

                    MDBoxLayout:
                        orientation:'vertical'
                        WhitLbl:
                            text: "C_2"
                            text_color: 1, 0.372, 0.121
                        MDSwitch:

                    MDBoxLayout:
                        orientation:'vertical'
                        WhitLbl:
                            text: "C_3"
                            text_color: 0, 1, 0
                        MDSwitch:

                    MDBoxLayout:
                        orientation:'vertical'
                        WhitLbl:
                            text: "C_4"
                            text_color: 0, 1, 1
                        MDSwitch:

                    MDBoxLayout:
                        orientation:'vertical'
                        WhitLbl:
                            text: "CLR"
                            text_color: 1, 0, 0.6
                        MDSwitch:
                            on_active: console_gb.text = ''
                            on_active: console_lk.text = ''
                            on_active: console_tm.text = ''
                            on_active: console_lw.text = ''

                Widget
                    size_hint_y: None
                    height: 8

                MDBoxLayout:
                    size_hint_y: .3
                    size_hint_x: None
                    width: 80
                    Label
                        text: 'freq:'


                    TextInput
                        id: repeat_in_seconds_cs
                        size_hint: None, None
                        width: 45
                        height: 30
                        text: '30'
                        background_color: .75, .75, .75


                Widget
                    size_hint_y: None
                    height: 8

            Spacer

        # Automate, centre column
        MDBoxLayout:
            orientation: 'vertical'
            Automate
                id: auto_gb
                tag: 'gb'
            Automate
                id: auto_lk
                tag: 'lk'
            Automate
                id: auto_tm
                tag: 'tm'
            Automate
                id: auto_lw
                tag: 'lw'
            Automate
                id: auto_cs
            Spacer


        # Right pane / console
        MDBoxLayout
            orientation: 'vertical'
            Spacer
            ConsoleWindow
                id: console_gb
            Spacer
            ConsoleWindow
                id: console_lk
            Spacer
            ConsoleWindow
                id: console_tm
            Spacer
            ConsoleWindow
                id: console_lw
            Spacer
            ConsoleWindow
                id: console_cs
            Spacer
